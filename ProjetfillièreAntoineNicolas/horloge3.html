<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./CSS/Horloge3.css">
    <title>Clock timer</title>
    <script>
        var startTime = 0
        var start = 0
        var end = 0
        var diff = 0
        var timerID = 0
        
        function chrono(){
            end = new Date()
            diff = end - start
            diff = new Date(diff)
            var msec = diff.getMilliseconds()
            var sec = diff.getSeconds()
            var min = diff.getMinutes()
            var hr = diff.getHours()-1
            if (min < 10){
                min = "0" + min
            }
            if (sec < 10){
                sec = "0" + sec
            }
            if(msec < 10){
                msec = "00" +msec
            }
            else if(msec < 100){
                msec = "0" +msec
            }
            document.getElementById("chronotime").value = hr + ":" + min + ":" + sec + ":" + msec
            timerID = setTimeout("chrono()", 10)
        }
        function Login(){
            
            document.chronoForm.reset.onclick = chronoReset
            start = new Date()
            chrono()
        }
        function scores(){ 
            console.log(diff.getSeconds())
            if (diff.getSeconds() <= 2){
            score = '50'
            console.log(score)
            } 
            if(diff.getSeconds() > 2 && diff.getSeconds() <= 9){
            score = '25'
            console.log(score)
            }
            if(diff.getSeconds() > 9){
            score = '10'
            console.log(score)
        }}
        function chronoContinue(){
            document.chronoForm.startstop.value = "stop!"
            document.chronoForm.reset.onclick = chronoReset
            start = new Date()-diff
            start = new Date(start)
            chrono()
        }
        function chronoReset(){
            document.getElementById("chronotime").value = "0:00:00:000"
            start = new Date()
        }
        function chronoStopReset(){
            document.getElementById("chronotime").value = "0:00:00:000"
            document.chronoForm.startstop.onclick = Login
        }
        function chronoStop(){
            document.chronoForm.startstop.value = "start!"
            document.chronoForm.startstop.onclick = chronoContinue
            document.chronoForm.reset.onclick = chronoStopReset
            clearTimeout(timerID)
        }
        window.addEventListener("load", Login);
                  </script>
</head>
<body>
    <form name="chronoForm" name="chronotime" id="chronotime">
      
    <div class="bandeau width100">
        <div class="emotes width100">
            <a href="./Compte.html"><img class="emote1" src="Image/svg/001-avatar.png" ></a>
            <a href="./Paramètres.html"><img src="Image/svg/002-parametres-gear.png"></a>
        </div>
        <div class="home width100">
            <a href="./acceuil-jeux.html"><img src="./Image/svg/accueil.png"></a>
        </div>
         <h1>Clock Timer</h1>
    </div>
    
    <div class="opposer popup"  onclick="myFunction()"><img  src="./Image/interrogation orange.png">>
        
        <span class="popuptext" id="myPopup">Le but du jeux est de trouver l'heure indiquée sur la grosse horloge au dessus, double click sur la bonne réponse</span>
    </div>
    <script>
        
        function myFunction() {
          var popup = document.getElementById("myPopup");
          popup.classList.toggle("show");
        }
        </script>
    <div class="h2">
        <h2>Niveaux 3</h2>
    </div>
    
    <div class="montre ">
        
        <img src="./imagehorloge/aiguilles/horloge7h00-removebg-preview.png">
    </div>
    <div class="block">
        <div class="choix1 width100">
            <script>
                function togglImage(){
                   
                let resultss = 8.43
                if (resultss == 10) {
                result = 'positive';
                console.log(result)
                } else {
                result = 'NOT positive';
                console.log(result)
                }
                return resultss;
        
                console.log(resultss)
                }
    
            </script>
            <img src="./imagehorloge/numériques/numerique21h48-removebg-preview.png"  onclick="togglImage();"/>
        </div>
        <div class="choix2 width100">
            
                <img class="ima" src="./imagehorloge/numériques/numérique7h00-removebg-preview.png" id="myBtn" name="startstop" value="start!" onclick="toggeImage();"/>
                <div id="myModal" class="modal">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <p>Bravo</p>
                    <ul id="scores"></ul>
                   <a href="./Horloge4.html" ><div class="btn-nv2">Niveau suivant</div></a>
                   <div class="mascottes">
                   <div><img src="Image/mascottebleu.png"></div> </div>
                  </div>
                
                </div>
       </div>  
            <script>
                   function toggeImage(){
                    var modal = document.getElementById("myModal");
                    var btn = document.getElementById("myBtn");
                    var span = document.getElementsByClassName("close")[0];
                    modal.style.display = 'block';
                    span.onclick = function() {modal.style.display = "none";}
                   
                chronoStop()
                scores()
                
                }
    
            </script>
    
        <div class="choix3 ">
            <script>
                function toggleImage(){
                let results = 12.30;
        
                if (results == 10) {
                result = 'positive';
                console.log(result)
                } else {
                result = 'NOT positive';
                console.log(result)
                }
                return results;
        
                console.log(results)
                }
    
            </script>
            <img src="./imagehorloge/numériques/numériques12h08-removebg-preview.png" id="Ima" value="start!" onclick="toggleImage();"/>
        </div>
    </form>
         
<script>
    resultat = document.getElementById('myBtn'),
    resultat.addEventListener('click', () => {
        const scor = score.value
        let getScore = localStorage.getItem('score')
        getScore = JSON.parse(getScore)
        console.log(getScore)
        let scoreTotal = {
            total1: getScore.total1,
            total2:  getScore.total2,
            total3: score,
            total4: getScore.total4
        }
        console.log(scoreTotal)
        localStorage.setItem('score', JSON.stringify(scoreTotal))
    })
        
</script>
    
</body>
</html>
